window.docContents[130].resolve({"/Article-II___-Isomorphisms/#A-Lean-Companion-to-Conceptual-Mathematics--Article-II___-Isomorphisms--2___-General-division-problems___-Determination-and-choice":{"contents":"Exercise 5 concerns counting the number of sections and retractions for a map (though those terms aren't formally defined until a short while later on p. 49). Rather than providing an exhaustive list of maps, we introduce here two formulas â€” what the book later calls Chad's formula and Danilo's formula (p. 117).\n\nThe former states that the number of sections for a map p is given by\n\\prod_{\\mathbf{1} \\xrightarrow{a} A} \\#(p^{-1}a),\nwhere A is the codomain of p.\n\n\n\ndef Chad's_formula {Î± Ï‡ : Type*} [DecidableEq Î±]\n    [Fintype Î±] [Fintype Ï‡] (X : Finset Ï‡) (A : Finset Î±)\n    (p : Ï‡ â†’ Î±)\n    : â„• :=\n  âˆ a âˆˆ A, pinvCount a\nwhere\n  pinvCount (a : Î±) : â„• := X.filter (fun x â†¦ p x = a) |>.card\n\n\nThe latter states that the number of retractions for a map j, assuming j is injective, is given by\n(\\#A)^{(\\#X - \\#A)},\nwhere A is the domain of j and X is the codomain of j.\n\n\n\nopen Finset in\ndef Danilo's_formula {Î± Ï‡ : Type*}\n    [Fintype Î±] [Fintype Ï‡] (A : Finset Î±) (X : Finset Ï‡)\n    (j : Î± â†’ Ï‡) (p : Ï‡ â†’ Î±) (_ : p âˆ˜ j = id) (_ : Function.Injective j)\n    : â„• :=\n  #A ^ (#X - #A)\n\n\nGiven\\{b, p, q, r, s\\} \\xrightarrow{g} \\{0, 1\\}\\\\\\\n\\qquad b \\mapsto 0\\\\\\\n\\qquad p \\mapsto 0\\\\\\\n\\qquad q \\mapsto 0\\\\\\\n\\qquad r \\mapsto 1\\\\\\\n\\qquad s \\mapsto 1,how many maps f are there with {g \\circ f = 1_{\\{0, 1\\}}}?Choosing a particular such f, how many maps g (including the given one) satisfy the same equation?\n\ninductive XElems\n  | b | p | q | r | s\n  deriving Fintype\n\ndef A : Finset (Fin 2) := Finset.univ\ndef X : Finset XElems := Finset.univ\n\nopen XElems in\ndef g : XElems â†’ Fin 2\n  | b => 0\n  | p => 0\n  | q => 0\n  | r => 1\n  | s => 1\nBy Chad's formula, we have 6 different maps f with {g \\circ f = 1_{\\{0, 1\\}}}.#eval Chad's_formula X A g\n6\nWe choose f to beopen XElems in\ndef f : Fin 2 â†’ XElems\n  | 0 => b\n  | 1 => r\nThen, by Danilo's formula, we have {(\\#A)^{(\\#X - \\#A)} = 2^3 = 8} different maps g.#eval Danilo's_formula A X f g\n  (by funext x; fin_cases x <;> rfl)\n  (by intro x y _; fin_cases x <;> fin_cases y <;>\n    (first | rfl | simp; trivial))\n8\n\n\n","context":"A Lean Companion to Conceptual Mathematics\u0009Article II: Isomorphisms","header":"2. General division problems: Determination and choice","id":"/Article-II___-Isomorphisms/#A-Lean-Companion-to-Conceptual-Mathematics--Article-II___-Isomorphisms--2___-General-division-problems___-Determination-and-choice"},"/Review-of-___I-words___/#A-Lean-Companion-to-Conceptual-Mathematics--Review-of-___I-words___":{"contents":"\n\n\n\nThis section of the book is primarily a review of material covered in previous Articles and Sessions, but it includes one new definition.\n\nIf {f \\circ f = 1_A}, we say f is an involution.\n\nWe implement Involution and IsInvolution in Lean as follows:\n\n\n\nstructure Involution {ğ’ : Type u} [Category.{v, u} ğ’] (A : ğ’) where\n  f : A âŸ¶ A\n  invol : f âŠš f = ğŸ™ A\n\nclass IsInvolution {ğ’ : Type u} [Category.{v, u} ğ’] {A : ğ’}\n    (f : A âŸ¶ A) where\n  invol : f âŠš f = ğŸ™ A\n\n\n\n\n","context":"A Lean Companion to Conceptual Mathematics","header":"Review of 'I-words'","id":"/Review-of-___I-words___/#A-Lean-Companion-to-Conceptual-Mathematics--Review-of-___I-words___"}});