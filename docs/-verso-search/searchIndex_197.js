window.docContents[197].resolve({"/Session-9___-Retracts-and-idempotents/#A-Lean-Companion-to-Conceptual-Mathematics--Session-9___-Retracts-and-idempotents--2___-Idempotents-as-records-of-retracts":{"contents":"(In any category) If {B \\xrightarrow{e} B} is an idempotent map, a splitting of e consists of an object A together with two maps {A \\xrightarrow{s} B \\xrightarrow{r} A} with {r s = 1_A} and {s r = e}.\n\nWe implement Splitting in Lean as follows:\n\n\n\nstructure Splitting {ùíû : Type u} [Category.{v, u} ùíû] {B : ùíû}\n    (e : B ‚ü∂ B) [IsIdempotent e] where\n  A : ùíû\n  s : A ‚ü∂ B\n  r : B ‚ü∂ A\n  rs : r ‚äö s = ùüô A\n  sr : s ‚äö r = e\n\n\n(In any category) Suppose that both {A \\xrightarrow{s} B \\xrightarrow{r} A} and {A' \\xrightarrow{s'} B \\xrightarrow{r'} A'} split the same idempotent {B \\xrightarrow{e} B}. Use these maps to construct an isomorphism {A \\xrightarrow{f} A'}.\n\nWe construct an isomorphism f as follows:example {ùíû : Type u} [Category.{v, u} ùíû] {B : ùíû}\n    {e : B ‚ü∂ B} [IsIdempotent e]\n    (hsr : Splitting e) (hsr' : Splitting e)\n    : Iso hsr.A hsr'.A := {\n  hom := hsr'.r ‚äö hsr.s\n  inv := hsr.r ‚äö hsr'.s\n  hom_inv_id := by\n    rw [Category.assoc, ‚Üê Category.assoc hsr'.r, hsr'.sr]\n    -- rw [‚Üê hsr.sr] needs a bit of hand-holding here\n    conv =>\n      lhs\n      arg 2\n      arg 1\n      rw [‚Üê hsr.sr]\n    rw [Category.assoc, hsr.rs]\n    rw [‚Üê Category.assoc, hsr.rs, Category.id_comp]\n  inv_hom_id := by\n    rw [Category.assoc, ‚Üê Category.assoc hsr.r, hsr.sr]\n    -- rw [‚Üê hsr'.sr] likewise needs a bit of hand-holding here\n    conv =>\n      lhs\n      arg 2\n      arg 1\n      rw [‚Üê hsr'.sr]\n    rw [Category.assoc, hsr'.rs]\n    rw [‚Üê Category.assoc, hsr'.rs, Category.id_comp]\n}\n\n\n\n\n","context":"A Lean Companion to Conceptual Mathematics\u0009Session 9: Retracts and idempotents","header":"2. Idempotents as records of retracts","id":"/Session-9___-Retracts-and-idempotents/#A-Lean-Companion-to-Conceptual-Mathematics--Session-9___-Retracts-and-idempotents--2___-Idempotents-as-records-of-retracts"}});